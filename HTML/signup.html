<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign in or register</title>
    <link rel="stylesheet" href="/CSS/navigation.css" />
    <link rel="stylesheet" href="/CSS/index.css" />
    <link rel="stylesheet" href="/CSS/signup.css" />
  </head>
  <body>
    <nav id="header-wrapper">
      <img src="./img/geekbuying_logo.png" alt="" />
    </nav>

    <main>
      <div class="bg-image">
        <div class="form-container-parent">
          <div class="form-container">
            <div class="head">
              <h3>Create Your account</h3>
              <a href="signin.html">Sign In</a>
            </div>
            <form action="">
              <input id="name" type="text" placeholder="Nick name" />
              <input
                type="email"
                name=""
                id="email"
                placeholder="Email address"
              />
              <input type="password" id="pswd" placeholder="Password" />
              <input type="submit" value="Create account" />
            </form>
          </div>
        </div>
      </div>
    </main>
    <footer style="background-color: inherit">
      <div class="copy-right">
        <p>Copyright Â© 2012 - 2022 GeekBuying.com. All rights reserved.</p>
      </div>
    </footer>
  </body>
</html>

<script>
  document
    .querySelector("#header-wrapper > img")
    .addEventListener("click", function () {
      window.location.href = "index.html";
    });

  let form = document.querySelector("form");

  let geekUsers = JSON.parse(localStorage.getItem("geeksUsers")) || [];
  form.addEventListener("submit", function () {
    event.preventDefault();
    let obj = {
      name: form.name.value,
      email: form.email.value,
      password: form.pswd.value,
    };
    if (
      geekUsers.some(function (e) {
        return e.email == form.email.value;
      })
    ) {
      alert("Email already Exist");
    } else if (
      form.name.value == "" ||
      form.email.value == "" ||
      form.pswd.value == ""
    ) {
      alert("Please Fill all input fields");
    } else {
      geekUsers.push(obj);
      localStorage.setItem("geeksUsers", JSON.stringify(geekUsers));
      alert("Signed up Successfully ! Enjoy your shopping");
      window.location.href = "signin.html";
    }
  });
</script>